"use strict";(self["webpackChunkzmwk_session_archive"]=self["webpackChunkzmwk_session_archive"]||[]).push([[543],{1241:function(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[s,c]of t)a[s]=c;return a}},8292:function(e,t,a){a.d(t,{A:function(){return r}});var s=a(6768);const c={class:"loading-box"};function n(e,t){const a=(0,s.g2)("a-spin");return(0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)(a)])}var l=a(1241);const o={},i=(0,l.A)(o,[["render",n],["__scopeId","data-v-3d53ffb8"]]);var r=i},4935:function(e,t,a){a.d(t,{A:function(){return i}});var s=a(6768);const c={id:"_footer",class:"_main-footer normal hide"};var n={__name:"mainFooter",setup(e){function t(){const e=document.body.scrollHeight,t=window.innerHeight,a=document.getElementById("_footer");a&&(e>t?a.classList.add("normal"):a.classList.remove("normal"))}return(0,s.sV)((()=>{window.addEventListener("load",t),window.addEventListener("resize",t),setTimeout((()=>{t(),document.getElementById("_footer").classList.remove("hide")}),1e3)})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",c,t[0]||(t[0]=[(0,s.Lk)("div",{class:"copyright"},"Copyright © 2021, 芝麻小事网络科技（武汉）有限公司",-1)])))}},l=a(1241);const o=(0,l.A)(n,[["__scopeId","data-v-6e41ce21"]]);var i=o},1034:function(e,t,a){a.d(t,{A:function(){return g}});var s=a(6768),c=a(4232),n=a(144),l=a.p+"img/logo.bfba7370.png",o=a(7767),i=a(782),r=a(9804),u=a(7694),d=a(5389),v=a(8298);const k={class:"right-header-nav"},m={key:0,class:"my-shadow"},A={key:0,class:"menus-box"},b={class:"user-info-box"},p={class:"ml4"};var _={__name:"mainHeader",props:{background:String,showMenus:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,i.Pj)(),_=(0,s.EW)((()=>a.getters.getUserInfo)),f=(0,s.EW)((()=>({background:t.background}))),h=()=>{r.A.confirm({title:"提示",content:"确认退出当前登录账户？",onOk:()=>{u.Ay.loading("正在退出..."),setTimeout((()=>{u.Ay.destroy(),(0,v.Hr)()}),1e3)}})};return(t,a)=>{const i=(0,s.g2)("a-menu-item"),r=(0,s.g2)("a-menu"),u=(0,s.g2)("a-dropdown");return(0,s.uX)(),(0,s.CE)("div",{class:"_main-header",style:(0,c.Tr)(f.value)},[a[3]||(a[3]=(0,s.Lk)("div",{class:"logo-box"},[(0,s.Lk)("img",{src:l,class:"logo"})],-1)),(0,s.Lk)("div",k,[e.showMenus?((0,s.uX)(),(0,s.CE)("div",m)):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[e.showMenus?((0,s.uX)(),(0,s.CE)("div",A,a[0]||(a[0]=[(0,s.Lk)("div",{class:"menu-item active"},"会话质检",-1)]))):(0,s.Q3)("",!0)]),_.value.id>0?((0,s.uX)(),(0,s.Wv)(u,{key:1},{overlay:(0,s.k6)((()=>[(0,s.bF)(r,null,{default:(0,s.k6)((()=>[(0,s.bF)(i),(0,s.bF)(i,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:"text-center",onClick:h},a[2]||(a[2]=[(0,s.Lk)("a",null,"退出登录",-1)]))])),_:1}),(0,s.bF)(i)])),_:1})])),default:(0,s.k6)((()=>[(0,s.Lk)("div",b,[a[1]||(a[1]=(0,s.Lk)("img",{src:o,class:"avatar"},null,-1)),(0,s.Lk)("span",p,(0,c.v_)(_.value.userid),1),(0,s.bF)((0,n.R1)(d.A),{class:"ml4"})])])),_:1})):(0,s.Q3)("",!0)])],4)}}},f=a(1241);const h=(0,f.A)(_,[["__scopeId","data-v-5be8bb28"]]);var g=h},6967:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var s=a(6768),c=a(144),n=a(1034),l=a(4935),o=a(4232),i=a(7403),r=a(7694),u=a(1824),d=a(8298),v=a(8292);const k={class:"main-content"},m={class:"content mt24"},A={key:1,class:"form-block"},b={class:"form-block-item"},p={class:"form-block-content"},_={class:"form-block-item"},f={class:"form-block-content"},h={class:"text-center"},g={key:1,class:"text-center status-box"};var y={__name:"corpConfigForm",setup(e){const t=(0,c.KR)(0),a=(0,c.KR)(1),n=(0,c.KR)(!1),l=(0,c.KR)(!1),y=(0,c.KR)([{title:"企业信息"},{title:"完成"}]),w=(0,c.Kh)({chat_public_key:"",chat_private_key:"",chat_public_key_version:"",chat_secret:""});(0,s.sV)((()=>{n.value=!0,(0,u.lG)().then((e=>{w.chat_public_key=e.data.public_key,w.chat_private_key=e.data.private_key})).finally((()=>{n.value=!1}))}));const F=()=>{try{if(l.value=!0,w.chat_secret=w.chat_secret.trim(),!w.chat_public_key||!w.chat_private_key)throw"缺少密钥信息";if(!w.chat_secret)throw"请输入会话存档密钥";if(!w.chat_public_key)throw"请输入公钥版本号";(0,u.ip)({...w}).then((()=>{t.value=1,a.value=1})).finally((()=>{l.value=!1}))}catch(e){r.Ay.error(e),l.value=!1}};return(e,a)=>{const r=(0,s.g2)("a-steps"),u=(0,s.g2)("a-form-item"),L=(0,s.g2)("a-input"),B=(0,s.g2)("a-input-number"),I=(0,s.g2)("a-button"),E=(0,s.g2)("router-link"),P=(0,s.g2)("a-form");return(0,s.uX)(),(0,s.CE)("div",k,[a[9]||(a[9]=(0,s.Lk)("div",{class:"title"},[(0,s.eW)("使用前请按照步骤正确完成配置 "),(0,s.Lk)("a",{class:"ml16",href:"http://huihua.xiaokefu.cn/docs/integration/#%E4%BC%9A%E8%AF%9D%E5%AD%98%E6%A1%A3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%B5%81%E7%A8%8B",target:"_blank"},"如何配置?")],-1)),(0,s.Lk)("div",m,[(0,s.bF)(r,{current:t.value,items:y.value},null,8,["current","items"]),(0,s.bF)(P,{class:"mt24",model:w,name:"basic","label-col":{span:6},"wrapper-col":{span:14},autocomplete:"off"},{default:(0,s.k6)((()=>[n.value?((0,s.uX)(),(0,s.Wv)(v.A,{key:0})):((0,s.uX)(),(0,s.CE)("div",A,[0==t.value?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",b,[a[4]||(a[4]=(0,s.Lk)("div",{class:"form-block-title"}," 复制以下信息并填入到企业微信后台 ",-1)),(0,s.Lk)("div",p,[(0,s.bF)(u,{label:"加密公钥",class:"label-height-unset"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:"c595959 zm-pointer",onClick:a[0]||(a[0]=e=>(0,c.R1)(d.Dk)(w.chat_public_key))},[a[3]||(a[3]=(0,s.Lk)("a",null,"点击复制",-1)),(0,s.Lk)("pre",null,(0,o.v_)(w.chat_public_key),1)])])),_:1})])]),(0,s.Lk)("div",_,[a[5]||(a[5]=(0,s.Lk)("div",{class:"form-block-title"},"将企业微信后台会话存档配置页面的信息复制粘贴到下框中",-1)),(0,s.Lk)("div",f,[(0,s.bF)(u,{label:"会话存档密钥",name:"corp_id"},{default:(0,s.k6)((()=>[(0,s.bF)(L,{value:w.chat_secret,"onUpdate:value":a[1]||(a[1]=e=>w.chat_secret=e),placeholder:"请输入会话存档密钥"},null,8,["value"])])),_:1}),(0,s.bF)(u,{label:"公钥版本号",name:"corp_id"},{default:(0,s.k6)((()=>[(0,s.bF)(B,{style:{width:"100%"},precision:0,value:w.chat_public_key_version,"onUpdate:value":a[2]||(a[2]=e=>w.chat_public_key_version=e),placeholder:"请输入公钥版本号"},null,8,["value"])])),_:1})])]),(0,s.Lk)("div",h,[(0,s.bF)(I,{type:"primary",class:"main-btn",onClick:F,loading:l.value},{default:(0,s.k6)((()=>a[6]||(a[6]=[(0,s.eW)("验证配置信息 ")]))),_:1},8,["loading"])])],64)):1==t.value?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)((0,c.R1)(i.A),{style:{color:"#21A665","font-size":"60px"}}),a[8]||(a[8]=(0,s.Lk)("div",{class:"status-title mt16"},"验证成功",-1)),(0,s.bF)(E,{to:"/index"},{default:(0,s.k6)((()=>[(0,s.bF)(I,{class:"mt32",type:"primary"},{default:(0,s.k6)((()=>a[7]||(a[7]=[(0,s.eW)("去使用")]))),_:1})])),_:1})])):(0,s.Q3)("",!0)]))])),_:1},8,["model"])])])}}},w=a(1241);const F=(0,w.A)(y,[["__scopeId","data-v-5c5a7553"]]);var L=F;const B={class:"_main-container"};var I={__name:"auth",setup(e){(0,c.KR)(0);return(e,t)=>((0,s.uX)(),(0,s.CE)("div",B,[(0,s.bF)(n.A),(0,s.bF)(L),(0,s.bF)(l.A)]))}};const E=(0,w.A)(I,[["__scopeId","data-v-15e5cb3a"]]);var P=E},7767:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA/tJREFUaEPtmk9slEUUwH/v6y5tFVpNgVBppSghYsVIqBFMTIxWapp4oD0RNfHmSSIHT8YT9mRiI568mZhIPLQk1aBgSbyBAmIIBaKEFi1UKaZxqdDt7n7PvG9dUpXdnV1m20/jO33ZfTPzfvNm5r35IyyQfQe1/rccz4qGPUAv0A7UL9RZgu8sMClwgCA8tCJIfLW7V9IFO6TwMfCFtobpcI8IrwJNS2CoS5PTqnwYZIPBN/tlygpEAJHx8zok6HaXWpZaR5GjQUb6DUKiYZMJ94rwxlIbVkn7qrzTnAzekoHPMj0aBh8BqyqpIAa6KZVglwyM5N5V2BMDg6oxYZ+8PZIbBzqqKR2DMhcMIAMkYmBMNSakDUCrKRmXMv8DFPPEsgQ0JPP/zmdhzgZqDcS7B+oTsOk+4aHWvwKcnoRzV5Rc6JfCK0BTA+zsCmi79/ZGTs7AgZMhqZv+ILwB3LUMujuFzW230qvbWjl2WRk9q8zO+YHwBrC1Q3iuU6gLShsWKhw5q3xz0c/i5w1g1zbhgVWle7+ANn5N+fhozABe6w5oanQbFjfSMHjYz2z25oHXdwTc7bj1sUn8/mjMAF7cLnSsdBtCF6eV/cdiNoSeeFB4ZpMQlGHIhjA6ppyciBnA8gbofljoXFua4Myk8uWYcmPebb6U0/I2B6whC2R9XQFriwSyyzMwHNdAVugpiwMb1wiPtkNjMr/pvpmB81P5VCJtZwwexasHFtqVrPsTQPIAltDVQmoGYNmoecM8YAmc754vdIY3AFt91jQTLaUrV4DlRhGA5AEs95n5HS5cVaav53/zIXcM0HoPbFgtPLZOoknsIqk5ODWhfP+LcjXlUqK4TtUANsYt739qo9DcmO/pSsSSOvPI8XHlux+r3ydUBWA9/cKWgPtbKBu4XKAu/Qojp6rbJ1QMYMZb3m+971POTWkUoSvd7FQEYJPypSeL77juFMg88cnXIZmce00VAdim5fnNfnv+76Z+fjrk20s1AFjdBH1bA1qWu1dejea1WRg+EUZLrYs4e+Dx9RKN/XLZpkujpXQsPthcOOGYrToD9HfZUUlth08B7PzPytBxt3TbGWDHI4J5YTHEYsPhM54BbPncsk5ob6kdgipcmckHt9lbt2Cl23P2gFVj479wXFgLDAOwpM+itKtUBOBa6WLq/ScA7JDP8UBkMfvWqa2seeAHYIOTevyUJgzgPWB3/Gwrb5HAoOz9VHtFw/0xvp0vRjItQfjyv/+i2/AGhrRVk7lhkG3lHRcHDT0mmbq+6KlBwRyDCBPRY49XYnxrn1Llg3889ihA2LuJ6/PZpwmCHoWdQFsM7pAtqfgJwoMqiUPNdRxZ+NzmD26ItxWYaSgLAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=543.21902b55.js.map